<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Monthly Payment Setup - STEM Learn</title>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<style>
* {margin:0; padding:0; box-sizing:border-box;}
body {
    font-family:'Poppins','Segoe UI','Roboto',sans-serif;
    background: linear-gradient(135deg,#0b0c1a 0%,#1e293b 100%);
    color:#fff;
    line-height:1.6;
    min-height:100vh;
}
.container {
    width:70%;
    margin:0 auto;
    padding:2rem 1rem;
}
.header {
    background:#1f1f3f;
    padding:1rem 2rem;
    border-bottom:1px solid #3b82f6;
    display:flex;
    justify-content:space-between;
    align-items:center;
    flex-wrap: wrap;
    gap:0.5rem;
}
.logo {
    font-family:'Orbitron',sans-serif;
    font-size:1.8rem;
    color:#00fff7;
    letter-spacing:2px;
}
.home-btn {
    background:none;
    border:2px solid #00fff7;
    color:#00fff7;
    padding:0.45rem 0.9rem;
    border-radius:8px;
    cursor:pointer;
    font-weight:600;
    transition:all .18s ease;
    font-size:0.9rem;
}
.home-btn:hover {background:#00fff7;color:#071018;}
.card {
    background:#1f1f3f;
    border:1px solid #3b82f6;
    padding:1.5rem 1.25rem;
    border-radius:12px;
    margin-bottom:1.5rem;
}
.center{text-align:center;}
.course-grid {
    display:grid;
    grid-template-columns:repeat(auto-fit,minmax(240px,1fr));
    gap:1rem;
    margin-top:1rem;
}
.course-btn {
    padding:1rem;
    border-radius:10px;
    border:1px solid #3b82f6;
    cursor:pointer;
    font-weight:700;
    transition:all 0.2s ease;
    background:#0b0c1a;
    color:#fff;
    text-align:left;
    display:flex;
    flex-direction:column;
    justify-content:space-between;
    min-height:100px;
}
.course-btn .title {
    font-size:1.05rem;
    margin-bottom:0.25rem;
}
.course-btn .price {
    font-size:1.2rem;
    font-weight:800;
}
.course-btn .desc {
    font-size:0.85rem;
    color:#cbd5e1;
    margin-top:0.4rem;
}
.course-btn:hover {
    transform:translateY(-4px);
    background:linear-gradient(45deg,#00fff7,#3b82f6);
    color:#071018;
}
.course-btn.private {
    border-color:#ff6b35;
}
.course-btn.private:hover {
    background:linear-gradient(45deg,#ff6b35,#ff8c42);
    color:#0b0c1a;
}
.actions {
    display:flex;
    gap:1rem;
    margin-top:1rem;
    flex-wrap: wrap;
}
.full {
    flex:1;
    padding:1rem;
    border-radius:8px;
    border:none;
    cursor:pointer;
    font-weight:700;
    transition:all 0.3s ease;
    text-align:center;
    min-width:140px;
}
.primary {background:linear-gradient(45deg,#00fff7,#3b82f6);color:#071018;}
.muted {background:#0b0c1a;color:#fff;border:1px solid #3b82f6;}
.full[disabled]{opacity:.6;cursor:not-allowed;}
.message {
    padding:.75rem;
    border-radius:8px;
    margin-top:1rem;
    text-align:center;
    font-weight:500;
    font-size:0.9rem;
}
.message.error {background:rgba(255,68,68,0.08);border:1px solid #ff4444;color:#ffbbbb;}
.message.success {background:rgba(0,255,127,0.06);border:1px solid #00ff7f;color:#bfffe2;}
@media(max-width:600px){
    .actions {flex-direction:column;}
    .header {flex-direction:column;align-items:flex-start;}
}
</style>
</head>
<body>
<div class="header">
  <div class="logo">STEM Learn</div>
  <button class="home-btn" onclick="goHome()">Return to Home</button>
</div>

<div class="container">
  <div class="card center">
    <h1 style="font-family:Orbitron, sans-serif;margin-bottom:.5rem;font-size:1.6rem;">Course Fees</h1>
    <p style="color:#cbd5e1;font-size:0.95rem;">Choose a course below — clicking the main button will open the hosted checkout page for that course.</p>
  </div>

  <div class="card">
    <h2 style="color:#3b82f6;font-size:1.3rem;">Selected Course</h2>
    <div id="selectedCourse" style="margin-top:.75rem; color:#cbd5e1;font-size:0.9rem;">No course selected — pick one below</div>
  </div>

  <div class="card">
    <h3 style="color:#3b82f6;font-size:1.2rem;">Available Monthly Subscriptions</h3>
    <div class="course-grid" id="courseGrid"></div>

    <div class="actions">
      <button id="checkoutBtn" class="full primary" disabled>Open Hosted Checkout</button>
      <button id="skipBtn" class="full muted" onclick="skipPayment()">Skip for Now</button>
    </div>

    <div id="messageArea"></div>
  </div>
</div>

<script>
const COURSES = [
  { title: "Scratch Juniors", price: "£19.99/month", desc: "Intro to programming with Scratch & micro:bit", link: "https://buy.stripe.com/test_3cIaEW74octgd7m1bycZa03", type: "monthly" },
  { title: "Young Coders", price: "£24.99/month", desc: "Project-driven coding & intro to AI", link: "https://buy.stripe.com/test_5kQ00idsMfFs6IY07ucZa04", type: "monthly" },
  { title: "Private Tuition", price: "Custom/Session Payment", desc: "Personalized learning experience", link: "https://buy.stripe.com/test_4gMaEWcoI78W7N2f2ocZa05", type: "monthly" }
];

const courseGrid = document.getElementById('courseGrid');
const selectedCourseEl = document.getElementById('selectedCourse');
const checkoutBtn = document.getElementById('checkoutBtn');
const messageArea = document.getElementById('messageArea');
let selectedCourse = null;

function renderCourses() {
  courseGrid.innerHTML = '';
  COURSES.forEach((c, idx) => {
    const btn = document.createElement('button');
    btn.className = 'course-btn';
    btn.innerHTML = `
      <div style="display:flex;justify-content:space-between;align-items:center;">
        <div>
          <span class="title">${c.title}</span>
          <div class="desc">${c.desc}</div>
        </div>
        <div style="text-align:right">
          <div class="price" style="${c.type === 'private' ? 'font-size: 0.9rem; text-align: center;' : ''}">${c.price}</div>
        </div>
      </div>
    `;
    btn.onclick = () => selectCourse(c, idx);
    courseGrid.appendChild(btn);
  });
}

function selectCourse(c, idx) {
  selectedCourse = c;
  
  
  selectedCourseEl.innerHTML = `<strong>${c.title}</strong> — ${c.price}<br/><span style="color:#cbd5e1">${c.desc}</span>`;
  checkoutBtn.disabled = false;
  checkoutBtn.textContent = `Open Checkout for ${c.title}`;
  // Highlight selected
  Array.from(document.querySelectorAll('.course-btn')).forEach((b, i) => {
    if (i === idx) {
      b.style.boxShadow = '0 8px 25px rgba(59,130,246,0.3)';
      b.style.transform = 'translateY(-2px)';
      
      // Different highlighting for Private Tuition
      if (c.title === 'Private Tuition') {
        b.style.background = 'linear-gradient(45deg, #ff6b35, #ff8c42)';
        b.style.color = '#0b0c1a';
        b.style.borderColor = '#ff6b35';
      } else {
        b.style.background = 'linear-gradient(45deg, #00fff7, #3b82f6)';
        b.style.color = '#071018';
        b.style.borderColor = '#00fff7';
      }
    } else {
      b.style.boxShadow = '';
      b.style.background = '';
      b.style.color = '';
      b.style.borderColor = '';
      b.style.transform = '';
    }
  });
}

function showMessage(text, type='error') {
  messageArea.innerHTML = `<div class="message ${type}">${text}</div>`;
  if(type==='success') setTimeout(()=> messageArea.innerHTML='',4000);
}

checkoutBtn.addEventListener('click', () => {
  if(!selectedCourse) return showMessage('Please select a course first.','error');
  window.location.href = selectedCourse.link;
});

function skipPayment() {
  if(confirm('Skip payment now? You can set it up later by contacting us.')) {
    showMessage('Skipped payment setup. You can enroll later.','success');
    setTimeout(()=> window.location.href='index.html',1000);
  }
}

function goHome() {
  window.location.href='index.html';
}

document.addEventListener('DOMContentLoaded',()=>renderCourses());
</script>
</body>
</html>
